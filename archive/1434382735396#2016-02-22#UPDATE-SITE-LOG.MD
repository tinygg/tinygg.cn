#  博客日记升级 

##	辗转Python、Nodejs

一直这么纠结也是源于自己的技术兴趣转变和对MARKDOWN的痴情，当然同一个开发语言内技术框架的选择也是很耗时间的...

##	语言的选择

由于一直在做C Sharp,其中的各种库用的很熟练、VS又这么好用，自己平时的积累也可以拿出来，写个博客是不用费什么事的，但是对LINUX的大爱... ... 你们懂的.（别跟我说MONO之类的，没用！MONO只是一个开始，用部分库远远满足不了不能弥补它的缺陷;缺了VS就更没有吸引力了;还有稳定性也是不可预计的；当然只是为了写一个博客前面这些都可以从简，但是还有一点速度是我不能接受的，我要的是超快，超快懂么？相应级别应该在100ms以内，所以构建100ms内的响应页面也是我追求的目标；还有一点就是不依赖数据库，博客风格不仅要极简，技术栈也是！当然还有对我心爱的MARKDOWN的支持，喜欢就是喜欢，原因我就不说了，PS:我只是把公司新项目文档全改成MARKDOWN了而已，配合其他的工具生成的文档那叫一个超赞，重要的是：客户也惊呆了。）
上面说了这么多不只是为了否掉C Sharp，也是为了描述我的整体需求。
由于对Python的大爱，使用Pelican貌似是不错的选择，加上[VFHKY](https://typecodes.com)也写了篇博客。

##	去除数据库

###	第一步，在标题上做文章了，可以是`日期#英文名#序列号`。

日期，为了方便查看，以后也可以按照月份来分目录存储，更重要的是URl可以直接匹配一部分。
英文名，`-`连接的，类似 `A-NEW-BLOG` 为啥不允许中文，因为洋气？这个受国外一些博客的影响，就是喜欢那样的，中文不是有编码之类的问题么，也许你说有UrlEncode/UrlDecode，编码后那么多百分号多难看啊！那我还说字符都有UTF-8和GBK之分呢，还是算了，只能从了我自己的爱好。
序列号，就是时间戳。	

###	第二步，静态变量或缓存

来个请求一直这么扫目录，读取文件首行肯定也是不行的。
自动刷新缓存，用到静态变量或者缓存（本来想用下神奇的redis的，但是因为它需要开启redis服务，我也就放弃了，但是最终和cache.js的区别有多大我也不知道，没空去深究。）

###	缓存的更新

本来是使用timer的，后来发现还可以继续优化，fs.watchFile(定期扫目录，跟自己写定时器没什么区别),fs.watch(调用系统参数，对Mac操作系统支持有点问题)，gaze(依赖glob，听说也是调用了系统参数监控，但是兼容性比较好，查看核心代码后确实调用的是fs.watch，对不同操作系统做了自己的优化，所以还是靠谱的)

### 优化响应时间

1.静态资源优化
2.转换功能，页面缓存。

##  TODO

1.写个脚本自动生成文件名，放到合适的archive目录下。
2.即时对话功能。
3.评论功能。